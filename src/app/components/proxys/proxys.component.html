<div class="vertical-flex-container" [@appear]>
    <mat-expansion-panel *ngFor="let proxy of proxys | iframed:true" class="nopadding">
        <mat-expansion-panel-header>
            <mat-panel-title>
                <mat-icon>{{proxy.icon}}</mat-icon>
                {{proxy.name}}
            </mat-panel-title>
            <button mat-icon-button appClickStopPropagation (click)="edit(proxy);">
                <mat-icon>edit_content</mat-icon>
            </button>
            <button mat-icon-button appClickStopPropagation (click)="delete(proxy);">
                <mat-icon>delete</mat-icon>
            </button>
        </mat-expansion-panel-header>
        <ng-template matExpansionPanelContent>
            <iframe [id]="proxy.name" [src]="proxy.completeUrl" [title]="proxy.name"></iframe>
        </ng-template>
    </mat-expansion-panel>

    <mat-card>
        <button mat-mini-fab (click)="add()">
            <mat-icon>add_circle</mat-icon>
        </button>
        <span *ngFor="let proxy of proxys | iframed:false">
            <button mat-button [matMenuTriggerFor]="menu">
                <mat-icon>{{proxy.icon}}</mat-icon>{{proxy.name}}
            </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item appClickStopPropagation (click)="edit(proxy);">
                    <mat-icon>edit_content</mat-icon>
                    <span>Edit</span>
                </button>
                <button mat-menu-item appClickStopPropagation (click)="delete(proxy);">
                    <mat-icon>delete</mat-icon>
                    <span>Delete</span>
                </button>
            </mat-menu>
        </span>
    </mat-card>
</div>